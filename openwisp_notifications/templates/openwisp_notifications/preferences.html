{% extends "admin/base_site.html" %}

{% load i18n %}
{% load static %}

{% block title %}
  {% trans "Notification Preferences" %}
{% endblock %}

{% block extrastyle %}
  {{ block.super }}
  <link rel="stylesheet" type="text/css" href="{% static 'openwisp-notifications/css/preferences.css' %}" />
{% endblock extrastyle %}

{% block breadcrumbs %}
  <div class="breadcrumbs">
    {% if request.user.id == user.id %}
      <a href="{% url 'admin:index' %}">{% trans 'Home' %}</a> &rsaquo;
    {% else %}
      <a href="{% url 'admin:index' %}">{% trans 'Home' %}</a> &rsaquo;
      <a href="{% url 'admin:app_list' app_label='openwisp_users' %}">{% trans 'Users and Organizations' %}</a> &rsaquo;
      <a href="{% url 'admin:openwisp_users_user_changelist' %}">{% trans 'Users' %}</a> &rsaquo;
      <a href="{% url 'admin:openwisp_users_user_change' user.id %}">{{ user.username }}</a> &rsaquo;
    {% endif %}
    {% trans 'Notification Preferences' %}
  </div>
{% endblock breadcrumbs %}

{% block content %}
  <div class="settings-container" data-user-id="{{ user.id }}">
    <div class="global-settings">
      <strong>Global Settings:</strong>
      <label>
        <input type="checkbox" id="global-web" />
        Web
        <span class="tooltip-icon" data-tooltip="{% trans 'Enable or disable web notifications globally' %}">?</span>
      </label>
      <label>
        <input type="checkbox" id="global-email" />
        Email
        <span class="tooltip-icon" data-tooltip="{% trans 'Enable or disable email notifications globally' %}">?</span>
      </label>
    </div>
    <div id="org-panels"></div>
  </div>
{% endblock content %}

{% block footer %}
  {{ block.super }}
  {% if request.user.is_authenticated %}
    <script type="text/javascript" src="{% static 'openwisp-notifications/js/preferences.js' %}"></script>
  {% endif %}
{% endblock footer %}
